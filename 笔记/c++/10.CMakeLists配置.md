### CMake通过CMakeLists.txt读入所有源文件自动生成makefile，进而将源文件编译成可执行文件或库文件








## CMake常用的命令

```text
# 设置cmake最低版本
cmake_minimum_required(VERSION 3.2)

# project命令用于指定cmake工程的名称，实际上，它还可以指定cmake工程的版本号（VERSION关键字）、简短的描述（DESCRIPTION关键字）、主页URL（HOMEPAGE_URL关键字）和编译工程使用的语言（LANGUAGES关键字）
# project(<PROJECT-NAME> [<language-name>...])
# project(<PROJECT-NAME> [VERSION <major>[.<minor>[.<patch>[.<tweak>]]]] [DESCRIPTION <project-description-string>][HOMEPAGE_URL <url-string>] [LANGUAGES <language-name>...])
# ${PROJECT_SOURCE_DIR} 和 <PROJECT-NAME>_SOURCE_DIR：本CMakeLists.txt所在的文件夹路径
# ${PROJECT_NAME}：本CMakeLists.txt的project名称
project(xxx)
project(mytest VERSION 1.2.3.4)
project (mytest HOMEPAGE_URL “https://www.XXX(示例).com”)

# 获取路径下所有的.cpp/.c/.cc文件（不包括子目录），并赋值给变量中
aux_source_directory(路径 变量)

# GLOB_RECURSE 获取目录下的所有cpp文件（不包括子目录），并赋值给SOURCES
file(
        GLOB SOURCES
        ${PROJECT_SOURCE_DIR}/*.c

)
# GLOB_RECURSE 获取目录下的所有cpp文件（包括子目录），并赋值给NATIVE_SRC
file(
      GLOB_RECURSE NATIVE_SRC 
      ${PROJECT_SOURCE_DIR}/lib/*.cpp
)

# 给文件名/路径名或其他字符串起别名，用${变量}获取变量内容
set(变量 文件名/路径/...)

# 添加编译选项FOO BAR
# add_definitions定义宏，但是这种定义方式无法给宏具体值 等价C语言中的#define  MG_ENABLE_OPENSSL
add_definitions(-DFOO -DBAR ...)

# add_compile_definitions定义宏，这种方式可以给宏具体值，但是这个指令只要高版本的cmake支持 等价C语言中 #define  MG_ENABLE_OPENSSL   1 
add_compile_definitions(MG_ENABLE_OPENSSL=1)

# 打印消息
message(消息)

# 编译子文件夹的CMakeLists.txt
add_subdirectory(子文件夹名称)

# 将.cpp/.c/.cc文件生成.a静态库
# 注意，库文件名称通常为libxxx.so，在这里只要写xxx即可
add_library(库文件名称 STATIC 文件)

# 将.cpp/.c/.cc文件生成可执行文件
add_executable(可执行文件名称 文件)

# 规定.h头文件路径
include_directories(路径)

# 规定.so/.a库文件路径
link_directories(路径)

# 设置编译选项及默认值
option(TEST_DEBUG "option for debug" OFF)

# 对add_library或add_executable生成的文件进行链接操作
# 注意，库文件名称通常为libxxx.so，在这里只要写xxx即可
target_link_libraries(库文件名称/可执行文件名称 链接的库文件名称)



```































